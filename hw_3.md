# Хранилище метрик

**Цель**:
В данном дз вы можете воспользоваться наработками из предыдущего.

Для Prometheus необходимо установить отдельно хранилище метрик (Victoria Metrics, Grafana Mimir, Thanos, etc.)

Во время записи метрики в хранилище Prometheus должен дополнительно добавлять лейбл site: prod

Дополнительные параметры хранилища:

Metrics retention - 2 weeks

В качестве результата дз принимаются:
- файл конфигурации системы хранения,
- файл конфигурации Prometheus


**Критерии оценки**:
0 баллов - задание не выполнено
1 балл - задание выполнено успешно

# Решение

1. Почитал обзоров, сравнений, getting started для Thanos, mimir, Victoria Metrics. Выбрал Thanos, субъективно, для учебной задачи не столь принципиально.
2. Для имитации отказоустойчивости добавить второй Prometheus.
3. Добавил доп. теги по заданию.
4. Добавил thanos-sidecar, thanos-query и thanos-query-frontend, чтобы посмотреть на результаты. 
5. Разбирался в параметрах, гуглил, траблшутил и дебажил.
6. Заработало. Сделал скриншот :-)

Файлы конфигурации docker-compose и Prometheus в папке [HW-3](HW-3)
